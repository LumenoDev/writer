<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Meta -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Title -->
    <title>
        Writer - Example
    </title>

    <!-- Styles -->
    <style>
        #app { margin: 70px }
    </style>

</head>
<body>

    <!-- Entrypoint -->
    <div id="app"></div>

    <!-- Setup -->
    <script type="module">
        import { Writer } from './src/index.js';
        import { createApp } from 'vue/dist/vue.esm-bundler.js';

        let config = {
            components : { Writer },
            template   : `
                <Writer v-model="text"
                        :uploads="true"
                        :darkMode="false"
                        :progress="progress"
                        @upload="upload($event)">
                </Writer>
            `,
            data() {
                return {
                    progress : 0,
                    text     : 'Welcome to Writer, the minimal, markdown editor with code syntax highlighting!',
                }
            },
            methods : {
                upload(hook)
                {
                    setTimeout(() => this.progress = 10, 100);
                    setTimeout(() => this.progress = 20, 200);
                    setTimeout(() => this.progress = 30, 300);
                    setTimeout(() => this.progress = 40, 400);
                    setTimeout(() => this.progress = 50, 500);
                    setTimeout(() => this.progress = 60, 600);
                    setTimeout(() => this.progress = 70, 700);
                    setTimeout(() => this.progress = 80, 800);
                    setTimeout(() => this.progress = 90, 900);
                    setTimeout(() => this.progress = 100, 1000);

                    setTimeout(() => hook('https://example.com/test.jpg'), 1500);
                }
            }
        }

        createApp(config).mount('#app');
    </script>

</body>
</html>